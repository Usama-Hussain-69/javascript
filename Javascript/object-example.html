<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      #so {
        border: solid 2px blue;
        background-color: aqua;
      }
    </style>
  </head>
  <body>
    <form id="myForm">
      <div>
        <input id="userName" type="text" />
      </div>

      <div>
        <input id="password" type="text" />
      </div>

      <div>
        <input id="userEmail" type="text" />
      </div>

      <button onclick="saveUser(event)">Save user</button>
    </form>

    <table id="so">
      <tr>
        <thead>
          <th style="padding-right: 30px">User Name</th>
          <th style="padding-right: 30px">User Password</th>
          <th style="padding-right: 30px">User Email</th>
          <th style="padding-right: 30px">Actions</th>
        </thead>
        <tbody id="tbody"></tbody>
      </tr>
    </table>

    <script>
      let x = (indx = "nsnbhd") => {
        alert("its a alter");
        alert(indx);
        users.splice(indx, 1);
        displayer();
      };

      let users = [];

      // rendring table ui
      function saveUser(event) {
        event.preventDefault();

        for (let user of users) {
          if (user.email == userEmail.value) {
            return alert("user pehley se h");
          }
        }

        let user = {
          name: userName.value,
          password: password.value,
          email: userEmail.value,
        };
        // tbody.innerHTML += ` <tr>

        //     <td>${user.name}</td>
        //     <td>${user.password}</td>
        //     <td>${user.email}</td>
        //     <td>
        //             <button onclick='x()'> Delete </button>
        //             </td>
        //   </tr>`;

        // some.innerHTML += "<td>" + user.name + "</td>";
        // some.innerHTML += "<td>" + user.password + "</td>";
        // some.innerHTML += "<td>" + user.email + "</td>";
        // document.createElement("tr");
        myForm.reset();

        users.push(user);
        displayer();

        // users.forEach((element, indx) => {
        //   // tbody.innerHTML += ` <tr>
        //   //         <td>${user.name}</td>
        //   //         <td>${user.password}</td>
        //   //         <td>${user.email}</td>
        //   //         <td>
        //   //           <button onclick='x()'> Delete </button>
        //   //           </td>

        //   //         </tr>`;
        // });
        // console.log(users);

        // console.log(element);
      }
      let displayer = () => {
        tbody.innerHTML = "";
        users.map((user, indx) => {
          return (tbody.innerHTML += ` <tr onclick=" upda(${indx})">
                  <td>${user.name}</td>
                  <td>${user.password}</td>
                  <td>${user.email}</td>
                  <td>
                    <button onclick='x(${indx})'> Delete </button>
                    </td>
                    <td>
                    <button onclick='upda(${indx})'> update </button>
                    </td>
                  </tr>`);
        });
        console.log(users);
      };
      displayer();

      const upda = (indx) => {
        users[indx].password = prompt("enter new password : ");
        displayer();
      };

      // new object
      // let name = "UseName",
      //   password = "Password";
      // let myObj = {
      //   name,
      //   password,
      // };
      //   // key=value ==same es6
      // console.log("experiment", myObj);

      // us.innerHTML = +user.name;

      // pa.innerText = +user.password;
      // em.innerText = +user.email;

      //  ()=>{}
      //  ()=> return
      //  element => result

      // [1, 2, 3, 4, 5, 6].forEach((jamala, indx, ar) => {
      //   console.log("element", jamala);
      //   console.log("index", indx);
      //   console.log("array", ar);
      // });

      //   let spanCode =
      //       "<span class='batti' style='color:" +
      //       color +
      //       "'' >" +
      //       simple[count] +
      //       " </span>";
      //     shower.innerHTML += spanCode;
    </script>
  </body>
</html>
